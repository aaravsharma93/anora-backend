extends layout

block content
  h1= title
  p Welcome to #{title}

  div 
  h4 Signup Form
  div#result
  form#signup-form(action='javascript:signUp()', method='POST')
    input(type="text" name="firstname" placeholder="First Name")
    br
    br
    input(type="text" name="lastname" placeholder="Last Name")
    br
    br
    input(type="email" name="email" placeholder="Email")
    br
    br
    input(type="password" name="password" autocomplete="new-password" placeholder="Password")
    br
    br
    button#signup-btn(type="submit") Signup
  br
  br
  | Already signed up? 
  a(href="/user/login") Login

  script.
    function signUp() {
      
      let form = $("#signup-form");
      let body = form.serialize();
      console.log('Post body ', body)

      $.post('/user/signup', body).done(function(data){
        console.log(data);
        alert(`${data.message}`);
      })
      .fail(function(error) {
        alert( error.message );
      });  
    }

  
